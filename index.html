<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reviews Section</title>
<style>
  :root{
    /* üîß Tweak these to match your brand (screenshots use a minty teal) */
    --bg-arch: #86cbbf;         /* section background */
    --text:    #1a1a1a;
    --muted:   #5a5f64;
    --card-bg: #ffffff;
    --star:    #ffb400;
    --tick:    #0ea676;
    --ring:    rgba(0,0,0,.08);
    --ring-strong: rgba(0,0,0,.18);

    /* sizing tokens (feel free to align to your design scale) */
    --container: min(1200px, 92vw);
    --radius: 16px;
    --space-1: 8px;
    --space-2: 12px;
    --space-3: 16px;
    --space-4: 24px;
    --space-5: 32px;
    --space-6: 48px;
  }

  /* --- Section shell with the big arch at the top --- */
  .reviews {
    position: relative;
    background: var(--bg-arch);
    color: var(--text);
    overflow: hidden;
    padding: clamp(56px, 8vw, 110px) 0 clamp(56px, 6vw, 90px);
  }
  /* Draw the big smooth arch with a giant circle above the section */
  .reviews::before{
    content:"";
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    top: -95vw;                 /* push circle way up so only the bottom arc is visible */
    width: 190vw;
    aspect-ratio: 1 / 1;
    background: var(--bg-arch);
    border-radius: 50%;
    pointer-events: none;
  }

  .container{ width: var(--container); margin-inline:auto; }

  /* --- Header copy (use your own fonts & sizes; structure matches screenshot) --- */
  .intro{
    text-align:center;
    margin-bottom: clamp(24px, 4vw, 36px);
    color:#0f2624; /* slightly darker over teal; replace as needed */
  }
  .intro .eyebrow{
    display:block;
    font-weight: 700;
    letter-spacing: .2px;
    margin-bottom: var(--space-2);
    opacity: .9;
  }
  .intro h2{
    margin: 0 0 var(--space-3);
    font-size: clamp(28px, 6vw, 48px);
    line-height: 1.1;
  }
  .intro p{
    margin: 0 auto;
    font-size: clamp(16px, 2.6vw, 22px);
    max-width: 42ch;
    color: #15433f;
  }

  /* --- Rating row (Excellent ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.85 based on 2,099 reviews) --- */
  .rating-row{
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    justify-content:center;
    gap: 14px 20px;
    margin: clamp(14px, 3vw, 20px) 0 var(--space-5);
    color: #0f2624;
    font-weight: 700;
  }
  .stars{
    position: relative;
    display:inline-flex;
    gap: 4px;
    vertical-align: middle;
  }
  .stars svg{
    width: 22px; height: 22px; display:block;
  }
  .stars .full path{ fill: var(--star); }
  .stars .half path{ fill: url(#halfFill); }
  .stars .empty path{ fill: #d8e1df; }

  .rating-small{
    font-weight: 600;
    color: #0f2624;
    opacity:.9;
  }

  /* --- Carousel --- */
  .viewport{
    position: relative;
    overflow: hidden;
    width: var(--container);
    margin-inline: auto;
    padding: 0 var(--space-2);
  }
  .track{
    list-style:none;
    margin:0;
    padding:0;
    display:flex;
    gap: clamp(0px, 1vw, 22px);
    will-change: transform;
  }
  .card{
    flex: 0 0 auto;
    width: clamp(280px, 26vw, 340px);   /* 1 on mobile, up to 4 on desktop */
    background: var(--card-bg);
    border-radius: var(--radius);
    padding: clamp(16px, 2vw, 20px);
    box-shadow: 0 1px 0 var(--ring), 0 12px 24px -12px var(--ring-strong);
    min-height: 210px;
  }
  .card .top{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    margin-bottom: 8px;
  }
  .card .name{
    font-weight: 700;
    color: var(--text);
  }
  .card .verify{
    display:flex; align-items:center; gap:8px;
    color: var(--muted);
    font-size: 0.95rem;
    margin-bottom: 10px;
  }
  .card .verify svg{ width:16px; height:16px; fill: var(--tick); }
  .card .body{
    color: var(--text);
    line-height: 1.45;
  }

  /* --- Nav buttons (round) --- */
  .nav{
    position:absolute;
    z-index:2;
    inset: 0;
    pointer-events: none; /* children re-enable */
  }
  .nav button{
    position:absolute;
    top:50%;
    transform: translateY(-50%);
    width: 44px; height: 44px;
    border: 0;
    border-radius: 999px;
    background: #fff;
    color: #111;
    box-shadow: 0 2px 10px rgba(0,0,0,.18);
    display:grid; place-items:center;
    cursor:pointer;
    pointer-events: auto;
  }
  .nav .prev{ left: 0; }
  .nav .next{ right: 0; }
  .nav svg{ width: 20px; height: 20px; }

  /* --- Footer row with Play and badge --- */
  .footer{
    width: var(--container);
    margin: var(--space-4) auto 0;
    display:flex;
    align-items:center;
    justify-content:flex-end;
    gap: 18px;
    color:#0f2624;
  }
  .toggle-play{
    display:inline-flex; align-items:center; gap:8px;
    background: transparent; border:0; color:#0f2624;
    font-weight: 600; cursor:pointer; padding:8px 10px;
  }
  .toggle-play svg{ width: 16px; height: 16px; }
  .badge{
    display:inline-flex; align-items:center; gap:8px;
    background:#fff; color:#111;
    padding: 8px 12px; border-radius: 999px;
    box-shadow: 0 1px 0 var(--ring), 0 10px 22px -14px var(--ring-strong);
  }
  .badge .star{ width:16px; height:16px; color: var(--star); }

  /* --- Mobile tweaks (match screenshot: 1 card, no gaps) --- */
  @media (max-width: 640px){
    .viewport{ padding: 0 var(--space-3); }
    .track{ gap: 0; }
    .nav .prev{ left: -2px; }
    .nav .next{ right: -2px; }
    .footer{ justify-content: space-between; padding: 0 var(--space-3); }
  }
</style>
</head>
<body>

<section class="reviews" aria-label="Customer reviews">
  <div class="container intro">
    <span class="eyebrow" aria-hidden="true"></span>
    <h2>Our customers say it best</h2>
    <p>We‚Äôre changing how people see car care. Our 4.9 star rating tells the story better than we can</p>
  </div>

  <!-- Rating row -->
  <div class="container rating-row" aria-label="Overall rating">
    <span>Excellent</span>

    <span class="stars" aria-label="4.5 out of 5 stars">
      <!-- star symbol defs -->
      <svg aria-hidden="true" style="position:absolute; width:0; height:0">
        <defs>
          <linearGradient id="halfFill">
            <stop offset="50%" stop-color="var(--star)"/>
            <stop offset="50%" stop-color="#d8e1df"/>
          </linearGradient>
          <symbol id="star" viewBox="0 0 24 24">
            <path d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
          </symbol>
        </defs>
      </svg>
      <svg class="full"  aria-hidden="true"><use href="#star"/></svg>
      <svg class="full"  aria-hidden="true"><use href="#star"/></svg>
      <svg class="full"  aria-hidden="true"><use href="#star"/></svg>
      <svg class="full"  aria-hidden="true"><use href="#star"/></svg>
      <svg class="half"  aria-hidden="true"><use href="#star"/></svg>
    </span>

    <span class="rating-small">4.85 based on <strong>2,099</strong> reviews</span>
  </div>

  <!-- Carousel -->
  <div class="viewport" role="region" aria-roledescription="carousel" aria-label="Customer quotes">
    <ul id="track" class="track" aria-live="off"></ul>

    <!-- round nav buttons -->
    <div class="nav" aria-hidden="false">
      <button class="prev" aria-label="Previous review">
        <svg viewBox="0 0 24 24" fill="none"><path d="M15.5 4.5 8 12l7.5 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <button class="next" aria-label="Next review">
        <svg viewBox="0 0 24 24" fill="none"><path d="M8.5 4.5 16 12l-7.5 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <!-- Footer controls -->
  <div class="footer">
    <button class="toggle-play" aria-pressed="true" aria-label="Pause autoplay">
      <svg class="icon" viewBox="0 0 20 20" fill="currentColor"><path d="M7 4h3v12H7zM12 4h3v12h-3z"/></svg>
      <span class="label">Pause</span>
    </button>

    <span class="badge" aria-label="Powered by Reviews.io">
      <svg class="star" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
      <strong>REVIEWS.io</strong>
    </span>
  </div>
</section>

<script>
/* =======================
   Reviews Carousel (IIFE)
   ======================= */
(function(){
  const REVIEWS = [
    {name:"Dan B.",        text:"Super experienced. Turned up on time and did the job quickly and correctly.", rating:5},
    {name:"Michael A.",    text:"This is the 3rd time that I‚Äôve had Graeme service my car. He is punctual, detailed and a pleasure to deal with.", rating:5},
    {name:"Eric W.",       text:"All excellent. Delighted with the speed of service and MOT.", rating:5},
    {name:"Flow T.",       text:"Helped me out multiple times when my car‚Äôs been trouble, would 100% recommend to anyone!!", rating:5},
    {name:"Gabrielle L.",  text:"Very happy. Great price for the work, much better than bigger name brands. Will definitely use again.", rating:5},
    {name:"John J.",       text:"Just like DHL: excellence simply delivered! Arrived on time, did the job, just as I expected.", rating:5},
    {name:"Adil S.",       text:"It‚Äôs the second time I‚Äôm using Graeme for my cars and he‚Äôs been amazing! My go-to mechanic for servicing & MOT!", rating:5},
    {name:"Irene K.",      text:"It‚Äôs great to be able to trust someone to do an excellent job at a reasonable price. It‚Äôs an added bonus that I don‚Äôt have to drive to a garage!", rating:5},
    {name:"Andy R.",       text:"Graeme arrived early and completed the service on my Captur in a polite, friendly and professional manner.", rating:5},
    {name:"Cheryl D.",     text:"Work was carried out quickly and I did not even need to leave my home, highly recommended.", rating:5},
    {name:"Albert G.",     text:"Graeme arrived at the beginning of the appointment window, worked quickly, and left the driveway as clean as when he arrived.", rating:5},
    {name:"Jay T.",        text:"Great friendly service. I have been using Maxamy for nearly 11 years now. And always very happy. Very competitive prices.", rating:5}
  ];

  const track    = document.getElementById('track');
  const prevBtn  = document.querySelector('.prev');
  const nextBtn  = document.querySelector('.next');
  const viewport = document.querySelector('.viewport');
  const playBtn  = document.querySelector('.toggle-play');
  const playIcon = playBtn.querySelector('svg.icon');
  const playLbl  = playBtn.querySelector('.label');

  function stars(n){
    return `<span class="stars" aria-label="${n} out of 5 stars">
      <span class="full">${'‚òÖ'.repeat(n)}</span><span class="empty">${'‚òÖ'.repeat(5-n)}</span>
    </span>`;
  }
  const tick = `<svg viewBox="0 0 16 16" aria-hidden="true"><path d="M8 1.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5Zm-1 8.01L4.97 7.23l.99-.99L7 7.28 9.99 4.3l.99.99L7 9.26Z"/></svg>`;

  function card({name,text,rating}){
    return `<li class="card" role="group" aria-label="${name} review">
      <div class="top"><div class="name">${name}</div>
        <span class="stars" aria-label="${rating} out of 5 stars">
          <span class="full">${'‚òÖ'.repeat(rating)}</span>
          <span class="empty">${'‚òÖ'.repeat(5-rating)}</span>
        </span>
      </div>
      <div class="verify">${tick}<span>Verified Customer</span></div>
      <div class="body">${text}</div>
    </li>`;
  }
  track.innerHTML = REVIEWS.map(card).join('');

  /* Clone ends for infinite loop (max visible = 4) */
  const perViewMax = 4;
  const kids = Array.from(track.children);
  kids.slice(0, perViewMax).forEach(el => track.appendChild(el.cloneNode(true)));
  kids.slice(-perViewMax).forEach(el => track.insertBefore(el.cloneNode(true), track.firstChild));

  /* Measure step using actual computed gap so mobile (gap=0) shows 1 card */
  let index = perViewMax;
  let step = 0, gapPx = 0;

  function recalc(){
    const ref = track.children[perViewMax];
    if(!ref) return;
    const styles = getComputedStyle(track);
    gapPx = parseFloat(styles.columnGap || styles.gap) || 0;
    step  = ref.getBoundingClientRect().width + gapPx;
    move(index, false);
  }

  function move(i, animate=true){
    track.style.transition = animate ? 'transform .55s ease' : 'none';
    track.style.transform  = `translateX(${-i * step}px)`;
    index = i;
  }
  function next(){ move(index+1, true); }
  function prev(){ move(index-1, true); }

  track.addEventListener('transitionend', ()=>{
    const start = perViewMax;
    const end   = start + REVIEWS.length - 1;
    if (index > end)   move(start + (index - end - 1), false);
    if (index < start) move(end - (start - index - 1), false);
  });

  /* Autoplay (10s) */
  let t=null, paused=false;
  function start(){ stop(); t=setInterval(()=>{ if(!paused) next(); }, 10000); }
  function stop(){ if(t) clearInterval(t); }

  /* Wire buttons (was missing) */
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);

  /* Pause on hover (desktop) */
  viewport.addEventListener('mouseenter', ()=>paused=true);
  viewport.addEventListener('mouseleave', ()=>paused=false);

  /* Play/Pause toggle button */
  function setPlayUI(){
    if(paused){
      playBtn.setAttribute('aria-pressed','false');
      playBtn.setAttribute('aria-label','Play autoplay');
      playLbl.textContent = 'Play';
      // change icon to ‚ñ∂
      playIcon.innerHTML = '<path d="M6 4l10 6-10 6z"/>';
    }else{
      playBtn.setAttribute('aria-pressed','true');
      playBtn.setAttribute('aria-label','Pause autoplay');
      playLbl.textContent = 'Pause';
      // change icon to pause ||
      playIcon.innerHTML = '<path d="M7 4h3v12H7zM12 4h3v12h-3z"/>';
    }
  }
  playBtn.addEventListener('click', ()=>{
    paused = !paused;
    setPlayUI();
  });

  /* Swipe with intent: only when horizontal motion dominates */
  let sx=0, sy=0, dx=0, dy=0, swiping=false;
  viewport.addEventListener('touchstart', e=>{
    const t=e.touches[0]; sx=t.clientX; sy=t.clientY;
    dx=0; dy=0; swiping=false;
    track.style.transition='none';
  }, {passive:true});

  viewport.addEventListener('touchmove', e=>{
    const t=e.touches[0];
    dx = t.clientX - sx;
    dy = t.clientY - sy;
    if(!swiping){
      if(Math.abs(dx) > 12 && Math.abs(dx) > Math.abs(dy)) swiping = true;
      else return; // let the page scroll vertically
    }
    track.style.transform = `translateX(${-index*step - dx}px)`;
  }, {passive:true});

  viewport.addEventListener('touchend', ()=>{
    if(swiping && Math.abs(dx) > step*0.25) (dx<0 ? next() : prev());
    else move(index, true);
  });

  /* Keyboard support */
  viewport.addEventListener('keydown', (e)=>{
    if(e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
    if(e.key === 'ArrowRight'){ e.preventDefault(); next(); }
  });
  viewport.tabIndex = 0;

  window.addEventListener('resize', recalc);
  if (document.fonts && document.fonts.ready) document.fonts.ready.then(recalc);

  recalc();
  move(index,false);
  start();
  setPlayUI();
})();
</script>
</body>
</html>
